var Nanobar=function(){"use strict";var t,i,e,h,s,n,o={width:"100%",height:"4px",zIndex:9999,top:"0"},l={width:0,height:"100%",clear:"both",transition:"height .3s"};return t=function(t,i){var e;for(e in i)t.style[e]=i[e];t.style["float"]="left"},h=function(){var t=this,i=this.width-this.here;.1>i&&i>-.1?(s.call(this,this.here),this.moving=!1,100==this.width&&(this.el.style.height=0,setTimeout(function(){t.cont.el.removeChild(t.el)},300))):(s.call(this,this.width-i/4),setTimeout(function(){t.go()},16))},s=function(t){this.width=t,this.el.style.width=this.width+"%"},n=function(){var t=new i(this);this.bars.unshift(t)},i=function(i){this.el=document.createElement("div"),this.el.style.backgroundColor=i.opts.bg,this.width=0,this.here=0,this.moving=!1,this.cont=i,t(this.el,l),i.el.appendChild(this.el)},i.prototype.go=function(t){t?(this.here=t,this.moving||(this.moving=!0,h.call(this))):this.moving&&h.call(this)},e=function(i){var e=this.opts=i||{},h;e.bg=e.bg||"#007ACD",this.bars=[],h=this.el=document.createElement("div"),t(this.el,o),e.id&&(h.id=e.id),h.style.position=e.target?"relative":"fixed",e.target?e.target.insertBefore(h,e.target.firstChild):document.getElementsByTagName("body")[0].appendChild(h),n.call(this)},e.prototype.go=function(t){this.bars[0].go(t),100==t&&n.call(this)},e}();